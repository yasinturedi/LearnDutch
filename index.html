<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Dutch Practice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] }
                }
            }
        }
    </script>
    <style>
        html,
        body {
            background-color: #000000 !important;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            color: #71717a;
            overflow-x: hidden;
        }

        * {
            -webkit-tap-highlight-color: rgba(113, 113, 122, 0.2);
            box-sizing: border-box;
        }

        body {
            padding-top: env(safe-area-inset-top);
        }

        .main-container {
            padding: 8rem 4rem;
            width: 100%;
            max-width: 98%;
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 4rem 1.5rem;
            }
        }

        @media (orientation: landscape) and (max-width: 932px) {
            .main-container {
                padding-top: 2rem;
            }
        }

        *:focus {
            outline: none;
        }

        #tooltip-popup {
            position: absolute;
            transform: translate(-50%, -100%);
            pointer-events: none;
            z-index: 1000;
        }

        .word-span {
            display: inline;
            cursor: pointer;
            text-decoration: underline;
            text-decoration-color: #27272a;
            text-underline-offset: 6px;
            text-decoration-thickness: 1px;
            transition: all 0.15s ease;
        }

        .word-span:hover,
        .word-span.active {
            text-decoration-color: #71717a;
            color: #a1a1aa;
        }

        #settings-trigger {
            background: transparent !important;
            opacity: 0.3;
            transition: opacity 0.2s;
        }

        #settings-trigger:hover {
            opacity: 1;
        }

        #snowCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100dvh;
            pointer-events: none;
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        #snowCanvas.active {
            opacity: 1;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #27272a;
            transition: .4s;
            border-radius: 20px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: #71717a;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: #ffffff;
        }

        input:checked+.slider:before {
            transform: translateX(20px);
            background-color: #000000;
        }
    </style>
</head>

<body class="bg-black flex flex-col items-center">
    <canvas id="snowCanvas"></canvas>

    <main class="main-container">
        <div id="practice-text-container" class="relative w-full">
            <div id="dutch-text" class="text-4xl md:text-5xl lg:text-7xl leading-[1.5] text-zinc-500 text-left">
                Na mijn ontdekking van de kist in de gracht, besloot ik de kaart verder te volgen. De kaart leidde me
                naar een vergeten kelder onder een oud pakhuis. Het was daar erg donker en koud.

                Ik gebruikte de zaklamp op mijn telefoon om de weg te vinden. Plotseling zag ik een hendel aan de muur.
                Toen ik aan de hendel trok, schoof een zwaar rek opzij en onthulde een geheime gang.

                Mijn hart bonsde in mijn borstkas terwijl ik de gang inliep. De gang was smal en vochtig, maar overal
                hingen prachtige oude lampen. Na een paar minuten kwam ik uit in een verborgen bibliotheek.

                Dit was de grootste schat die ik ooit had gezien. Duizenden boeken over de geschiedenis van Amsterdam
                stonden op de planken. Ik wist meteen dat ik deze plek met niemand wilde delen. Het was mijn eigen
                geheime paradijs in het hart van de stad.
            </div>

            <div id="tooltip-popup" class="hidden flex-col items-center opacity-0 transition-opacity duration-200">
                <div
                    class="bg-neutral-900 rounded-lg border border-neutral-800 p-4 max-w-[85vw] md:max-w-xs text-center relative shadow-2xl pointer-events-auto">
                    <h2 id="tooltip-title"
                        class="text-[9px] md:text-[10px] font-bold text-gray-600 mb-1 uppercase tracking-widest">Word
                    </h2>
                    <div id="tooltip-loading" class="hidden flex justify-center py-1">
                        <div class="animate-spin rounded-full h-4 w-4 border-2 border-neutral-700 border-t-gray-300">
                        </div>
                    </div>
                    <div id="tooltip-body" class="text-lg md:text-xl text-gray-200 leading-tight font-medium"></div>
                    <div
                        class="absolute w-3 h-3 bg-neutral-900 border-b border-r border-neutral-800 transform rotate-45 left-1/2 -translate-x-1/2 -bottom-1.5">
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="settings-trigger" class="fixed bottom-10 right-8 text-zinc-600 cursor-pointer p-2 z-[2000]">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle>
            <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
            </path>
        </svg>
    </div>

    <div id="settings-modal"
        class="fixed inset-0 bg-black/95 backdrop-blur-md hidden items-center justify-center z-[3000] opacity-0 transition-opacity duration-300">
        <div class="bg-neutral-900 rounded-3xl border border-neutral-800 p-8 max-w-sm w-full mx-4 shadow-3xl">
            <h3 class="text-[10px] font-bold text-zinc-600 mb-8 uppercase tracking-[0.2em] text-center">Settings</h3>
            <div class="space-y-6">
                <div>
                    <label class="block text-[10px] text-zinc-600 mb-2 uppercase tracking-widest">Groq API Key</label>
                    <input type="password" id="api-key-input"
                        class="w-full bg-neutral-800 border-none rounded-2xl px-4 py-3 text-sm text-zinc-300 focus:bg-neutral-700 outline-none"
                        placeholder="gsk_...">
                </div>
                <div>
                    <label class="block text-[10px] text-zinc-600 mb-2 uppercase tracking-widest">AI Model</label>
                    <select id="model-select"
                        class="w-full bg-neutral-800 border-none rounded-2xl px-4 py-3 text-sm text-zinc-300 focus:bg-neutral-700 outline-none">
                        <option value="llama-3.3-70b-versatile">llama-3.3-70b-versatile</option>
                        <option value="llama-3.1-8b-instant">llama-3.1-8b-instant</option>
                        <option value="mixtral-8x7b-32768">mixtral-8x7b-32768</option>
                    </select>
                </div>
                <div>
                    <label class="block text-[10px] text-zinc-600 mb-2 uppercase tracking-widest">Dutch Story</label>
                    <textarea id="custom-text-input"
                        class="w-full bg-neutral-800 border-none rounded-2xl px-4 py-3 text-sm text-zinc-300 focus:bg-neutral-700 outline-none h-40 resize-none"
                        placeholder="Paste dutch text..."></textarea>
                </div>
                <div class="flex items-center justify-between py-2">
                    <label class="text-[10px] text-zinc-600 uppercase tracking-widest">Let it snow</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="snow-toggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <button id="settings-save"
                    class="w-full py-4 bg-white text-black text-[10px] font-bold uppercase tracking-[0.2em] rounded-2xl hover:bg-zinc-200">Save
                    Changes</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>
